# Contributing to Foxel

ğŸ‰ é¦–å…ˆï¼Œéå¸¸æ„Ÿè°¢æ‚¨æ„¿æ„èŠ±æ—¶é—´ä¸º Foxel åšå‡ºè´¡çŒ®ï¼

æˆ‘ä»¬çƒ­çƒˆæ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ã€‚æ— è®ºæ˜¯æŠ¥å‘Š Bugã€æå‡ºæ–°åŠŸèƒ½å»ºè®®ã€å®Œå–„æ–‡æ¡£ï¼Œè¿˜æ˜¯ç›´æ¥æäº¤ä»£ç ï¼Œéƒ½å°†å¯¹é¡¹ç›®äº§ç”Ÿç§¯æçš„å½±å“ã€‚

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨é¡ºåˆ©åœ°å‚ä¸åˆ°é¡¹ç›®ä¸­æ¥ã€‚

## ç›®å½•

- [å¦‚ä½•è´¡çŒ®](#å¦‚ä½•è´¡çŒ®)
  - [ğŸ› æŠ¥å‘Š Bug](#-æŠ¥å‘Š-bug)
  - [âœ¨ æäº¤åŠŸèƒ½å»ºè®®](#-æäº¤åŠŸèƒ½å»ºè®®)
  - [ğŸ› ï¸ è´¡çŒ®ä»£ç ](#ï¸-è´¡çŒ®ä»£ç )
- [å¼€å‘ç¯å¢ƒæ­å»º](#å¼€å‘ç¯å¢ƒæ­å»º)
  - [ä¾èµ–å‡†å¤‡](#ä¾èµ–å‡†å¤‡)
  - [åç«¯ (FastAPI)](#åç«¯-fastapi)
  - [å‰ç«¯ (React + Vite)](#å‰ç«¯-react--vite)
- [ä»£ç è´¡çŒ®æŒ‡å—](#ä»£ç è´¡çŒ®æŒ‡å—)
  - [è´¡çŒ®å­˜å‚¨é€‚é…å™¨ (Adapter)](#è´¡çŒ®å­˜å‚¨é€‚é…å™¨-adapter)
  - [è´¡çŒ®å‰ç«¯åº”ç”¨ (App)](#è´¡çŒ®å‰ç«¯åº”ç”¨-app)
- [æäº¤è§„èŒƒ](#æäº¤è§„èŒƒ)
  - [Git åˆ†æ”¯ç®¡ç†](#git-åˆ†æ”¯ç®¡ç†)
  - [Commit Message æ ¼å¼](#commit-message-æ ¼å¼)
  - [Pull Request æµç¨‹](#pull-request-æµç¨‹)

---

## å¦‚ä½•è´¡çŒ®

### ğŸ› æŠ¥å‘Š Bug

å¦‚æœæ‚¨åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­å‘ç°äº† Bugï¼Œè¯·é€šè¿‡ [GitHub Issues](https://github.com/DrizzleTime/Foxel/issues) æ¥æŠ¥å‘Šã€‚è¯·åœ¨æŠ¥å‘Šä¸­æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

- **æ¸…æ™°çš„æ ‡é¢˜**ï¼šç®€æ˜æ‰¼è¦åœ°æè¿°é—®é¢˜ã€‚
- **å¤ç°æ­¥éª¤**ï¼šè¯¦ç»†è¯´æ˜å¦‚ä½•ä¸€æ­¥æ­¥é‡ç°è¯¥ Bugã€‚
- **æœŸæœ›è¡Œä¸º** vs **å®é™…è¡Œä¸º**ï¼šæè¿°æ‚¨é¢„æœŸçš„ç»“æœå’Œå®é™…å‘ç”Ÿçš„æƒ…å†µã€‚
- **ç¯å¢ƒä¿¡æ¯**ï¼šä¾‹å¦‚æ“ä½œç³»ç»Ÿã€æµè§ˆå™¨ç‰ˆæœ¬ã€Foxel ç‰ˆæœ¬ç­‰ã€‚

### âœ¨ æäº¤åŠŸèƒ½å»ºè®®

æˆ‘ä»¬æ¬¢è¿ä»»ä½•å…³äºæ–°åŠŸèƒ½æˆ–æ”¹è¿›çš„å»ºè®®ã€‚è¯·é€šè¿‡ [GitHub Issues](https://github.com/DrizzleTime/Foxel/issues) åˆ›å»ºä¸€ä¸ª "Feature Request"ï¼Œå¹¶è¯¦ç»†é˜è¿°æ‚¨çš„æƒ³æ³•ï¼š

- **é—®é¢˜æè¿°**ï¼šè¯´æ˜è¯¥åŠŸèƒ½è¦è§£å†³ä»€ä¹ˆé—®é¢˜ã€‚
- **æ–¹æ¡ˆè®¾æƒ³**ï¼šæè¿°æ‚¨å¸Œæœ›è¯¥åŠŸèƒ½å¦‚ä½•å·¥ä½œã€‚
- **ç›¸å…³ä¿¡æ¯**ï¼šæä¾›ä»»ä½•æœ‰åŠ©äºç†è§£æ‚¨æƒ³æ³•çš„æˆªå›¾ã€é“¾æ¥æˆ–å‚è€ƒã€‚

### ğŸ› ï¸ è´¡çŒ®ä»£ç 

å¦‚æœæ‚¨å¸Œæœ›ç›´æ¥è´¡çŒ®ä»£ç ï¼Œè¯·å‚è€ƒä¸‹é¢çš„å¼€å‘å’Œæäº¤æµç¨‹ã€‚

## å¼€å‘ç¯å¢ƒæ­å»º

### ä¾èµ–å‡†å¤‡

- **Git**: ç”¨äºç‰ˆæœ¬æ§åˆ¶ã€‚
- **Python**: >= 3.13
- **Bun**: ç”¨äºå‰ç«¯åŒ…ç®¡ç†å’Œè„šæœ¬è¿è¡Œã€‚

### åç«¯ (FastAPI)

åç«¯ API æœåŠ¡åŸºäº Python å’Œ FastAPI æ„å»ºã€‚

1. **å…‹éš†ä»“åº“**

    ```bash
    git clone https://github.com/DrizzleTime/foxel.git
    cd Foxel
    ```

2. **åˆ›å»ºå¹¶æ¿€æ´» Python è™šæ‹Ÿç¯å¢ƒ**

    ```bash
    python3 -m venv .venv
    source .venv/bin/activate
    # On Windows: .venv\Scripts\activate
    ```

3. **å®‰è£…ä¾èµ–**

    ```bash
    pip install -r requirements.txt
    ```

4. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

    ```bash
    uvicorn main:app --reload --host 0.0.0.0 --port 8000
    ```

    API æœåŠ¡å°†åœ¨ `http://localhost:8000` ä¸Šè¿è¡Œï¼Œæ‚¨å¯ä»¥é€šè¿‡ `http://localhost:8000/docs` è®¿é—®è‡ªåŠ¨ç”Ÿæˆçš„ API æ–‡æ¡£ã€‚

### å‰ç«¯ (React + Vite)

å‰ç«¯åº”ç”¨ä½¿ç”¨ React, Vite, å’Œ TypeScript æ„å»ºã€‚

1. **è¿›å…¥å‰ç«¯ç›®å½•**

    ```bash
    cd web
    ```

2. **å®‰è£…ä¾èµ–**

    ```bash
    bun install
    ```

3. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

    ```bash
    bun run dev
    ```

    å‰ç«¯å¼€å‘æœåŠ¡å™¨å°†åœ¨ `http://localhost:5173` è¿è¡Œã€‚å®ƒå·²ç»é…ç½®äº†ä»£ç†ï¼Œä¼šè‡ªåŠ¨å°† `/api` è¯·æ±‚è½¬å‘åˆ°åç«¯æœåŠ¡ã€‚

## ä»£ç è´¡çŒ®æŒ‡å—

### è´¡çŒ®å­˜å‚¨é€‚é…å™¨ (Adapter)

å­˜å‚¨é€‚é…å™¨æ˜¯ Foxel çš„æ ¸å¿ƒæ‰©å±•ç‚¹ï¼Œç”¨äºæ¥å…¥ä¸åŒçš„å­˜å‚¨åç«¯ (å¦‚ S3, FTP, Alist ç­‰)ã€‚

1. **åˆ›å»ºé€‚é…å™¨æ–‡ä»¶**: åœ¨ [`services/adapters/`](services/adapters/) ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œä¾‹å¦‚ `my_new_adapter.py`ã€‚
2. **å®ç°é€‚é…å™¨ç±»**:
    - åˆ›å»ºä¸€ä¸ªç±»ï¼Œç»§æ‰¿è‡ª [`services.adapters.base.BaseAdapter`](services/adapters/base.py)ã€‚
    - å®ç° `BaseAdapter` ä¸­å®šä¹‰çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•ï¼Œå¦‚ `list_dir`, `get_meta`, `upload`, `download` ç­‰ã€‚è¯·ä»”ç»†é˜…è¯»åŸºç±»ä¸­çš„æ–‡æ¡£æ³¨é‡Šä»¥ç†è§£æ¯ä¸ªæ–¹æ³•çš„ä½œç”¨å’Œå‚æ•°ã€‚

### è´¡çŒ®å‰ç«¯åº”ç”¨ (App)

å‰ç«¯åº”ç”¨å…è®¸ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­ç›´æ¥é¢„è§ˆæˆ–ç¼–è¾‘ç‰¹å®šç±»å‹çš„æ–‡ä»¶ã€‚

1. **åˆ›å»ºåº”ç”¨ç»„ä»¶**: åœ¨ [`web/src/apps/`](web/src/apps/) ç›®å½•ä¸‹ï¼Œä¸ºæ‚¨çš„åº”ç”¨åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»º React ç»„ä»¶ã€‚
2. **å®šä¹‰åº”ç”¨ç±»å‹**: æ‚¨çš„åº”ç”¨éœ€è¦å®ç° [`web/src/apps/types.ts`](web/src/apps/types.ts) ä¸­å®šä¹‰çš„ `FoxelApp` æ¥å£ã€‚
3. **æ³¨å†Œåº”ç”¨**: åœ¨ [`web/src/apps/registry.ts`](web/src/apps/registry.ts) ä¸­ï¼Œå¯¼å…¥æ‚¨çš„åº”ç”¨ç»„ä»¶ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ° `APP_REGISTRY`ã€‚åœ¨æ³¨å†Œæ—¶ï¼Œæ‚¨éœ€è¦æŒ‡å®šè¯¥åº”ç”¨å¯ä»¥å¤„ç†çš„æ–‡ä»¶ç±»å‹ï¼ˆé€šè¿‡ MIME Type æˆ–æ–‡ä»¶æ‰©å±•åï¼‰ã€‚

## æäº¤è§„èŒƒ

### Git åˆ†æ”¯ç®¡ç†

- ä»æœ€æ–°çš„ `main` åˆ†æ”¯åˆ›å»ºæ‚¨çš„ç‰¹æ€§åˆ†æ”¯ã€‚

### Commit Message æ ¼å¼

æˆ‘ä»¬éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒã€‚è¿™æœ‰åŠ©äºè‡ªåŠ¨åŒ–ç”Ÿæˆæ›´æ–°æ—¥å¿—å’Œç‰ˆæœ¬ç®¡ç†ã€‚

Commit Message æ ¼å¼å¦‚ä¸‹:

```
<type>(<scope>): <subject>
<BLANK LINE>
<body>
<BLANK LINE>
<footer>
```

- **type**: `feat`, `fix`, `docs`, `style`, `refactor`, `test`, `chore` ç­‰ã€‚
- **scope**: (å¯é€‰) æœ¬æ¬¡æäº¤å½±å“çš„èŒƒå›´ï¼Œä¾‹å¦‚ `adapter`, `ui`, `api`ã€‚
- **subject**: ç®€æ˜æ‰¼è¦çš„æè¿°ã€‚

**ç¤ºä¾‹:**

```
feat(adapter): Add support for Alist storage
```

```
fix(ui): Correct display issue in file list view
```

### Pull Request æµç¨‹

1. Fork ä»“åº“å¹¶å…‹éš†åˆ°æœ¬åœ°ã€‚
2. åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ‚¨çš„ç‰¹æ€§åˆ†æ”¯ã€‚
3. å®Œæˆä»£ç ç¼–å†™å’Œæµ‹è¯•ã€‚
4. å°†æ‚¨çš„åˆ†æ”¯æ¨é€åˆ°æ‚¨çš„ Fork ä»“åº“ã€‚
5. åœ¨ Foxel ä¸»ä»“åº“åˆ›å»ºä¸€ä¸ª Pull Requestï¼Œç›®æ ‡åˆ†æ”¯ä¸º `main`ã€‚
6. åœ¨ PR æè¿°ä¸­æ¸…æ™°åœ°è¯´æ˜æ‚¨çš„æ›´æ”¹å†…å®¹ã€ç›®çš„å’Œä»»ä½•ç›¸å…³çš„ Issue ç¼–å·ã€‚

é¡¹ç›®ç»´æŠ¤è€…ä¼šå°½å¿«å®¡æŸ¥æ‚¨çš„ PRã€‚æ„Ÿè°¢æ‚¨çš„è€å¿ƒå’Œè´¡çŒ®ï¼
